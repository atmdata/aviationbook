---
title: Aircraft trajectories
aliases:
  - .
authors:
  - Xavier Olive
  - Enrico Spinielli
---

A trajectory is a mathematical abstraction used to describe the evolution of a moving object with a finite list of parameters. The most common features in aviation include latitude, longitude, altitude, all indexed by time, with first derivatives such as ground speed, track angle and vertical rate. Depending on the application, some models would expect more features. For example, [aircraft performance models](aircraft-performance.qmd) could require the pitch, roll and yaw angles, the true air speed, the indicated air speed, the Mach number, etc.

This chapter describes several common formats for trajectories depending on available technology to record them. Associated data sources come with different licensing terms which must be kept in mind when developing or applying computing methods.

::: {.callout-tip}
# Flight data recorders

Obviously, the most comprehensive data source is produced by the aircraft itself, specifically by the *flight data recorder* (FDR) or *quick access recorder* (QAR). Use cases for such data range from flight operational quality assurance (FOQA), post-ops analysis to improve flight safety or operational efficiency, system analysis for predictive or condition-based maintenance. Such data typically contains over 2000 flight parameters and is considered very sensitive by aircraft operators as it may expose some commercial strategies.

*It is usually difficult for researchers to get full access to such data, even under non-disclosure agreement*. Also, as aircraft operators own the data, this solution cannot be used for global analyses of all aircraft flying in a designated area.
:::

## Aircraft tracking technologies

### Radar tracks {-}

The concept of **primary surveillance radars (PSR)** is fairly simple: it is a rotating radio transponder with an omnidirectional antenna. Commonly, the radar transmits a one-microsecond pulse for every one millisecond and listens to the reflections from the aircraft. The **position of the aircraft** is measured by the distance and angle to the radar. The distance is known as the *slant distance*, which is the line-of-sight distance between an aircraft and the radar. It can be calculated by measuring the time difference between the original signal and the reflection received, since the speed of the radio wave (speed of light) is known. The *azimuth angle* of the aircraft is determined by the rotation angle of the radar.

The slant distance of an aircraft does not always correspond to the horizontal distance to the radar. Since the civil radar usually does not provide elevation information on the target, it is not possible to accurately convert the slant distance to the horizontal distance. Historically, it is sufficient to use primary radar for separating aircraft without considering these altitude differences. However, [other systems](#mode-s) have been put in place to provide air traffic controllers more accurate altitudes of the aircraft.

:::{.callout-important}
**Air navigation service providers (ANSP)** own the data produced by the surveillance radar installations they operate.
:::

Radar tracks have a prestigious aura for obvious coverage reasons. However, it is rather unlikely that you gain access to radar trajectories on a systematic basis. Moreover, on international flights, getting a full trajectory would require agreements with ANSPs of all countries aircraft have flown.

In general, trajectories based on radar plots produced by computer systems contain an identifier, timestamps, latitudes, longitudes, altitudes, ground speed, vertical speed and track angle. **Kalman filters** help to smoothen trajectories and compute the derivatives.


### ADS-B {-}

ADS-B stands for **Automatic Dependent Surveillance--Broadcast**. It is probably one of the most well-known source of aircraft trajectories, popularized by famous websites such as [Flightradar24](https://www.flightradar24.com) or [The OpenSky Network](https://www.opensky-network.org). It is a surveillance technology designed to allow aircraft to broadcast their flight state periodically without the need for interrogation.

The word *automatic* refers to the fact that no inputs from controllers or pilots are required. The word *dependent* indicates this technology depends on information from other onboard systems, such as air data systems and navigation systems.


:::{.callout-important}
Messages do not contain any timestamp information. Timestamps are usually appended by receiver of the messages, based on the reception time (and not the time of emission by the aircraft).
:::

Information broadcast in ADS-B messages contains, in addition to a unique [24-bit transponder code](#aircraft-information), named `icao24` in examples below:

- *identification information*: the *callsign* (an 8-character *non-unique* identifier of the mission or the route of the aircraft) and the wake vortex category;
- *positional information*: latitude and longitude in degrees (encoded in CPR format), barometric altitude (converted to ISA equivalent), and GPS altitude in feet;
- *velocity information*: track angle in degrees, ground speed in knots, vertical rate in feet per minute;
- *uncertainty information* around the position and the velocity of the aircraft.

Positional and velocity information is computed by the aircraft based on GNSS and inertial navigation systems of the aircraft.


:::{.callout-warning}
There is a common confusion in aviation between three designations for angles:

- the **track angle** represents the direction the aircraft is flying. It is the angle of the speed vector, ranging from 0 (North) to 360 degrees (90° for East, 270° for West);
- the **heading angle** represents the direction the nose the aircraft is pointing at;
- the **bearing angle** usually represents the direction of/to a static object, e.g., the bearing of a runway, or the bearing to a navigational point.
:::

:::{.callout-note}
## A note about callsign identifiers

A callsign is an eight-character identifier used for communication with the ATC.

General aviation commonly uses the aircraft registration (tail number) as a callsign; commercial flights use a (often unique) identifier per route, starting with three letters identifying the airline operator, `BAW` (*pronounce "speedbird"*) for British Airways, `AFR` for Air France, etc.

Outside commercial aviation, the callsign commonly refers to the mission operated by an aircraft, and this can help distinguish the original intention of an aircraft used for specific purposes.

For example, aircraft `F-HNAV` uses the `CALIBRA` callsign for flight inspection and VOR/ILS calibration operations, the `JAMMING` callsign during jamming investigation and a more regular `NAK` callsign when commuting between airfields.

Similarly, test flights operated by Airbus use an `AIB` callsign; Boeing uses a `BOE` callsign; ambulance helicopters often use explicit callsigns: `SAMU` in France (stands for *Urgent Medical Aid Service*) and `LIFE` in many European countries.

Australian firefighting operations use a specific callsign depending on the role of the aircraft during the operations: `BMBR` for firebombing; `SPTR` for fire spotters; `BDOG`, *bird dog*, for fire attack supervisions (often subcontracted); and `FSCN`, fire scan for remote sensing fire operations.
:::

Even though all information is not available at each timestamp, tabular data (csv) is a common format to represent trajectory data. In this example, the `icao24` code `7c4779` matches a Qantas Boeing B747 registered as `VH-OEJ`.

```{ojs}
//| echo: false
import { Flight } from "@xoolive/traffic-js"
```

```{ojs}
//| echo: false
qantas747 = Flight.fromSample("qantas747")
qantas747.table()
```

This tabular information can easily be represented on a map, or as a regular plot for non-geographical features.

```{ojs}
//| echo: false
{
  const container = yield htl.html`<div style="height: 400px;">`;
  const map = L.map(container);
  const layer = L.geoJSON(
    qantas747.resample(d3.timeSecond.every(5)).feature()
  ).addTo(map);
  map.fitBounds(layer.getBounds(), { maxZoom: 7 });
  L.tileLayer(
    "https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}.png",
    {
      attribution:
        "© <a href=https://www.openstreetmap.org/copyright>OpenStreetMap</a> contributors"
    }
  ).addTo(map);
}
```

---

```{ojs}
//| echo: false
Plot.plot({
  marks: [
    Plot.line(qantas747.data, {
      x: "timestamp",
      y: "altitude",
      stroke: "steelblue",
    })
  ],
  x: {
    tickFormat: d3.utcFormat("%H:%M"),
    label: "timestamp (UTC)"
  },
  y: {
    label: "altitude (in feet)"
  },
  marginLeft: 50,
  width,
  height: 200,
  grid: true
})
```


:::{.callout-note}
## What broadcasting means

The letter "B" in ADS-B means *broadcast*: aircraft broadcast messages at the same rate regardless of ground equipments and infrastructure, even if no aircraft or receiver is within range. Aircraft broadcast ADS-B data even over oceans, poles, or deserted areas.

Recently, "Space-based ADS-B" has been implemented so that a constellation of low-altitude satellites attempts to receive and decode ADS-B messages from aircraft in the troposphere and forward positional information to ground-based stations. There have been high expectations around this technology which is expected to revolutionize traditional air traffic management over areas such as the North-Atlantic Ocean, controlled by Shannon (Ireland) and Gander (Canada) ACCs.
:::


:::{.callout-tip}
A lot of details about the contents of ADS-B messages, Mode S data and their decoding is detailed in a different book, *The 1090 Megahertz Riddle* @sun1090.
:::

### Mode S {-}

The **secondary surveillance radar (SSR)**, also known as the air traffic control radar beacon system (ATCRBS), was designed to provide air traffic controllers more information than what is provided by the primary radar. The secondary radar can be installed separately or installed on top of the primary radar. It uses a different radio frequency to actively interrogate the aircraft and receive information transmitted by the aircraft.

The SSR transmits interrogations using the 1030 MHz radio frequency and the aircraft transponder transmits replies using the 1090 MHz radio frequency. In the early design of SSR, two civilian communication protocols (Mode A and Mode C) were introduced. Mode A and Mode C respectively allow the SSR to continuously interrogate the **identity (squawk code)** and the **altitude** of an aircraft. The **squawk code** in Mode A is a unique 4-octal digit code given by air traffic controllers to aircraft in their flight information region (FIR) for identification. The altitude in Mode C refers to the barometric altitude obtained from the aircraft’s air data system.

:::{.callout-tip}
Some squawk codes are reserved for particular emergency situations:

- 7500 for hijacking situations;
- 7600 for radio failures;
- 7700 for general emergencies @opensky20.
:::

**Mode S (Mode Select Beacon System)** was designed by Lincoln Laboratory at Massachusetts Institute of Technology in the 1970s. Based on different iterations of hardware and software design in the 1980s, the implementation of Mode S in air traffic control began in the 1990s. Since then, Mode S has become one of the main sources for aircraft surveillance.

The main characteristic of Mode S is its **selective interrogation**, which allows the SSR to interrogate different information from different aircraft separately.  Unlike the limited number (4096) of unique identification codes in Mode A communication, the Mode S transponder is identified by a [24-bit transponder code](#aircraft-information), which can support up to $2^{24} =$ 6,777,216 unique addresses.

:::{.callout-important}
As Mode S consists in selective interrogation, it is strongly dependent on ground infrastructure around. Mode S messages are only sent in reply to an interrogation, therefore **no such data can be expected from an aircraft out of range of an SSR**, over the ocean, poles or deserted areas.
:::

The Mode S uplink signal contains parameters that indicate which information is desired by the air traffic controller. Many downlink formats (DF) are described in the Mode S protocol in order to reply to such information:

-  **Altitude and identity replies (DF 4/5)** are rough equivalents to Mode A/C protocols;

-  **All-call reply (DF 11)** is the reply sent by Mode S compliant transponders to queries addressed to Mode A/C capable transponders. It contains the [24-bit transponder code](#aircraft-information), the transponder capabilities @sun20capab, and the interrogator identifier;

-  **ACAS short and long replies (DF 0/16)**: **Airborne Collision Avoidance System (ACAS)** is a system designed to reduce the risk of mid-air collisions and near mid-air collisions between aircraft. In particular **Resolution Advisories (RA)** generate particular messages (DF16) which can be used to find about past RA alerts @opensky19.\
   Details of the protocol are described [here](https://mode-s.org/decode/content/mode-s/4-acas.html).

-  **Comm-B, with altitude and identity replies (DF 20/21)**: this protocol supports a large number of different types of messages, defined by **BDS (Comm-B Data Selector)** codes. **Mode S Enhances Surveillance (EHS)** accounts for a handful of BDS codes of particular interests:
   - **BDS 4,0 -- Selected vertical intention**, with information about *selected altitude* in the autopilot, barometric pressure setting, and *navigation modes*;
   - **BDS 5,0 -- Track and turn report**, with information about the *roll angle*, *true track angle rate* and *true airspeed (TAS)* in addition to ground speed and true track angle information also defined in ADS-B;
   - **BDS 6,0 -- Heading and speed report**, with information about *magnetic heading* of the aircraft, *indicated airspeed (IAS)*, *barometric altitude rate* and *inertial vertical velocity* (in feet per minute)

Coupling BDS 5,0 (for the TAS, the true track angle and the ground speed -- the two last entries are also present in ADS-B) with BDS 6,0 (for magnetic heading) and can be used to recompute the apparent wind seen by the aircraft.\
[Magnetic declination](earth.html#magnetic-declination) must be taken into account.

:::{.callout-tip}
ADS-B messages also belong to the Mode S protocol, in the **Extended Squitter (ES)** category (BDS 0,5 through to 0,9). Only Extended Squitter messages (ADS-B) are broadcast, i.e., they are not the result of SSR interrogations.
:::

![An overview of all Mode S services, excerpt from [www.mode-s.org](https://mode-s.org/decode/content/introduction.html#summary) @sun1090](../../images/mode_s_services.png)

### UAT {-}

**Universal Access Transceiver (UAT)** is a technology similar to ADS-B which operates on 978 MHz instead of 1090 MHz for ADS-B Extended Squitter (ES).

The FAA has been encouraging General Aviation aircraft to equip with UAT compliant transponders for slightly cheaper than ES transponders in order to decongestionate the 1090 MHz frequency in the US. The 2020 Mandate allows aircraft to be equipped with UAT transponders if they remain **within the US borders** and **below 18,000 feet**.

As a consequence, UAT messages can only be received by receivers located in the United States or near their borders.


### FLARM {-}

**FLARM** (a portmanteau of "flight" and "alarm") is, with TCAS, one of the most widespread technologies for **traffic awareness and collision avoidance**. It is a system used to prevent potential aviation collision and to raise awareness of the pilot, initially tailored for **light aircraft, such as gliders, light aircraft, rotorcraft, and drones**. FLARM obtains its position and altitude readings from an internal GPS (or potentially other GNSS) and a barometric sensor, then broadcasts these together with forecast data about the future 3D flight track, calculated considering its speed, acceleration, track, turn radius, wind and other parameters. This is imperative for smaller lighter (even wind-powered) aircraft.

At the same time, the receiver listens for other FLARM devices within range and processes the information received. Upon receiving such messages, the FLARM system may issue alarms to alert the pilot or show the relative position if other aircraft are within detection range.

The wireless nature of FLARM allows for the reception of signals in a crowdsourced fashion. Although the FLARM radio protocol features message encryption in order to ensure integrity and confidentiality, implementation and encryption keys are available:

- The [Open Glider Network (OGN)](https://live.glidernet.org/) maintains a tracking platform with the help of many receivers, mostly collocated with flying clubs operating light aircraft at local airfields.
- The [OpenSky Network](https://www.opensky-network.org) also collects FLARM raw messages, with data accessible to institutional researchers.


FLARM devices are based on the nRF905 chip. Depending on the geographical area they operate in, they transmit in the SRD860 band or in the ISM-band that can be used freely.

- In Europe, Africa and Asia, the two frequencies **868.2 MHz and 868.4 MHz** are used, sending one to two messages per second per frequency. On 868.2MHZ, it transmits from 0.4s to 0.8s; On 868.4MHZ, it transmits from 0.4s to 1.2s.
- In the Americas, Oceania and Israel **another undisclosed frequency hopping scheme** is in place, in order to comply with local regulations.

Information contained in FLARM messages contains:

- the **device address**, a unique identifier, similar to the [24-bit transponder code](#icao-identifiers). *In general,* if the aircraft is also equipped with a transponder, the same identifier is used;
- the **aircraft type**: glider, tow-plane, helicopter, parachute, parachute drop-plane, hangglider, paraglider, UAV, balloon, etc.;
- **positional information**: *latitude* and *longitude* in degrees, *GPS altitude* **in meters**;
- **velocity information**: *horizontal* and *vertical speeds*.

As FLARM is a proprietary product, there is little public information about the exact inner workings of the trajectory prediction algorithm that powers the collision alert function. One version has been developed by ONERA in France and been licensed to FLARM Technology Ltd @flarm_patent.  At a high level, the documentation @flarm_manual describes it as follows: The device calculates its own predicted flight path for about the next 20 seconds. This prognosis is based on immediate past and current vectors, including but not limited to aircraft type, speed, vertical speed, turning radius etc. In addition, it uses a movement model that has been optimized for the respective user.

According to the manual of PowerFLARM Fusion @flarm_manual, there are three levels of warnings with different types of annunciations: The first warning is issued around 18 seconds before impact, the second warning is issued around 12 seconds before impact and the third warning is issued around 8 seconds before impact. The warning is active as long as the collision risk remains and will change accordingly.


## Aircraft information

A number of flight information is usually not directly accessible from settings recording aircraft trajectories. Metadata usually refers to any additional information enriching a trajectory.  Enriching trajectories with relevant information is usually a costly process, and access to such information can be complicated.

### ICAO identifiers {-}

The most common identifier for aircraft in radar based technologies would be the identifier of the transponder: a **six-digit hexadecimal identifier**, i.e. an integer written in its hexadecimal form, which classically identifies an aircraft uniquely. In the remaining of the book, it is commonly referred as the *ICAO identifier*, or `icao24` in data records (24 standing for the number of bits encoding the integer).

Ranges of addresses are reserved per countries, who are free to assign addresses to aircraft registered by their authorities. All US registered aircraft get an address in the `0xa00000` to `0xafffff` range; in Europe, France gets `0x380000` to `0x3bffff`, Germany gets next interval from `0x3c0000` to `0x3fffff`, then the UK gets `0x400000` to `0x43ffff`, etc.

:::{.callout-warning}
# Are ICAO addresses unique?

Yes and no. In practice, **for most short-term analyses**, we can consider the answer is yes.

However, an aircraft may get a different transponder identifier when she gets a different registration. This may happen when the aircraft is sold to new owners who want to register their aircraft in a different country. Then, after the aircraft gets a new registration, her old identifier can be reassigned to new aircraft.

Also, most aircraft manufacturers keep a small set of transponders that they reuse across many newborn aircraft for test flights. Those usually correspond to temporary registration numbers.

To sum up, it is safer to keep in mind that:

- the same aircraft can have different ICAO identifiers throughout her life;
- the same identifier can refer to different aircraft depending on the day we get data from her.
:::


### Tail numbers {-}

The tail number is the number usually written on the back side of the aircraft, like the license plate number of cars, but for aircraft. Tail numbers also follow a pattern per country: `F-` for France, `D-` for Germany, `G-` for the UK, with some recognised patterns for specific categories of aircraft. Every country is free to decide how to assign registrations to aircraft within their range, and to give them a tail number accordingly. In some countries, like the US, Japan or Korea, there is a direct correspondence between tail numbers and ICAO identifiers, but that's not the case in every country.

In the US, tail registrations start with the N letter (they are also called N-numbers) and are followed by up to 5 numbers, or up to 4 numbers and 1 letter, or 3 numbers and 2 letters. Letters I and O are excluded. Then there is a *"direct"* correspondence with transponder addresses: `0xa00001` for `N1`, `0xa00002` for `N1A`, `0xa00003` for `N1AA` then `0xa00004` for `N1AB` until `0xadf7c7` fort `N99999`.

:::{.callout-tip}
# What is the PIA program?

To address privacy concerns, FAA has initiated the Privacy ICAO aircraft address (PIA) program to improve the privacy of the eligible US-registered aircraft, ADS-B equipped and flying in the domestic US airspace. Recent research @michel_pia_2021 have shown this attempt is vain as it is very easy to break the anonymization and find which PIA address (between N41000 `0xa4d691` and N42 `0xa4f946`) is associated to which aircraft.
:::

@tbl-icao illustrates some examples of patterns in registrations numbers assigned by countries. In the Netherlands, KLM matches the two first letters after the country code to aircraft types.

| country | range |    | pattern | category |
| ------- | ----- | -- | ------  | -------- |
| **France** | `380000` | `3bffff` | F- | |
|     | | | F-A | Historic aircraft |
|     | | | F-C | Gliders |
|     | | | F-J | Ultralights |
|     | | | F-W | Test and Delivery |
|     | | | F-Z | State owned |
| **Switzerland** | `4b0000` | `4b7fff` | HB- | |
|     | | | HB-B | Balloons |
|     | | | HB-F | Produced in Switzerland |
|     | | | HB-X or Z | Helicopters |
| **The Netherlands** | `480000` | `487ffff` | PH- | |
|     | | | PH-AO | KLM Airbus A330 |
|     | | | PH-BH | KLM Boeing 787-9 |
|     | | | PH-BK | KLM Boeing 787-10 |
|     | | | PH-BQ | KLM Boeing 777-200 |

: Some countries reserve registration patterns to specific categories of aircraft. {#tbl-icao}

### Aircraft type designators {-}

[*DOC 8643 - Aircraft Type Designators*](https://www.icao.int/publications/DOC8643/Pages/default.aspx) by ICAO contains designators for aircraft types which are most commonly provided with air traffic service (ATS).

Each designator consists of a 4-letter code associated with a manufacturer and an aircraft type, e.g., `A320` for Airbus A320, `B78X` for Boeing 787-10 or `E190` for Embraer 190. More specific designators can be used for balloons `BALL` or gliders `GLID`.

This designator is often referred as `typecode` in aircraft databases and helps associating an aircraft type to an ICAO identifier.

### Data sources {-}

Maintaining a data base of transponder identifiers, aircraft tail numbers, type designators, owners and/or operators is a very cumbersome process. New aircraft are manufactured every month, which generates new transponder identifiers @opensky21. Some countries keep a database of their registered aircraft public (e.g. [FAA (US)](https://www.faa.gov/licenses_certificates/aircraft_certification/aircraft_registry/), [France](https://immat.aviation-civile.gouv.fr/immat/servlet/aeronef_liste.html), [Switzerland](https://app02.bazl.admin.ch/web/bazl/en/#/lfr/search) or [The Netherlands](https://www.ilent.nl/onderwerpen/luchtvaartuigregister#/)), but this is not a systematic practice in every country, and those do not always contain the transponder identifier.

There have also been some crowdsourcing effort to constitute and maintain aircraft databases based on various open records and entries on social networks. Such databases raise some privacy concerns among some aircraft owners, who may be tempted to vandalise those databases @astroturfing22.

Some public aircraft databases:

- [The OpenSky Network aircraft database](https://opensky-network.org/aircraft-database) contains several hundreds of thousands of airframes;
- [Flightradar24](https://www.flightradar24.com/data) give access to an interface to search for individual aircraft;
- The website [www.airframes.org](http://www.airframes.org/), but they are very strict about their [terms of use](http://www.airframes.org/about);
- Some Regional Monitoring Agencies (RMA) provide open access to data matching aircraft registered in their area, specifically in [Europe](https://www.eurocontrol.int/rmalive/regulatorListInit.do) or in the [Middle-East](https://midrma.com/en).


## Flight trajectories

EUROCONTROL's Network Manager has devised different flight trajectories
formats in order to store and exchange information with the aviation community.

In the following sections we will cover the most known ones: M1 & M3 and SO6.

They are a mix of flight information and trajectory.

### Model 1 (M1 or *FTFM*)

The flight trajectory known as *Model 1*, *M1* or *Filed Tactical Flight Model (FTFM)* is a
mathematical model containing a point and airspace volume profile created in ETFMS for a flight.
This trajectory is first created when Flight Plan (FP) details, and any subsequent changes,
are received by the Network Operations of EUROCONTROL's
Network Manager^[Aircraft Operators (AO) willing to fly IFR flights in the Network Manager (NM)
area of responsibility are mandated to file the relevant Flight Plan to the Network Manager.
The aim of this centralised management of FP's in Europe is linked to one of the NM mandates, i.e.
the ability to detect imbalance between demand (willingness to fly by AO's) and
offer (ability to guarantee safety by ATC / airport capacity providing an adequate level of safety).
The NM provides the ACC's/airports to monitor the situation and implement measures to resolve
the overload (typically via departure delays or rerouting.)].

The M1 is a translation of a FP (especially Field 15) to a point profile, i.e. a
sequence of 4D positions (timestamp + longitude, latitude, altitude) plus relevant penetrated airspace ID's,
calculated taking into account the aircraft type performance (via BADA) and the environment restrictions
as published in the [Route Availability Document (RAD)][rad].

[rad]: https://www.nm.eurocontrol.int/RAD/ "Rote Availability Document (RAD)"

:::{.callout-note}
**TODO**

1. add CSV file with sample M1 data in `data/` folder
1. Add small sample of data frame for M1
2. Plot M1
:::


### Model 2 (M2 or *RTFM*)

### Model 3 (M3 or *CTFM*)

The flight trajectory known as *Model 3*, *M3* or *Current Tactical Flight Model (CTFM)* is an
updated version of the M1 model where the point/airspace profile is recalculated taking into account
surveillance data (*Correlated Position Reports* [CPR]^[CPRs are received by NM from ACC's,
they consist of surveillance data (callsign longitude, latitude, altitude, timestamp) paired
with flight plan info (aircraft type, ICAO 24-bit address)] or more recently
ADS-B position reports)
when these show a significant deviation from M1 (or M2 which is an M1-like
trajectory calculated in case of delayed flight).
The deviation considered is of 1 min in time, more than 400 feet in en-route phase,
more than 1000 feet in climb/descent phase or more than 10 NM laterally,
see 14.3.1 [@niarchakou_simonselva17].

::: {.callout-note}
**TODO**

1. add CSV file with sample M3 data in `data/` folder
1. Add small sample of data frame for M3
2. Plot M3 and M1/M3 overlapped to show the differences
:::

### SO6

### ALL_FT+

:::{.callout-note}
TODO this part could help?
:::

Data for a trajectory refer typically to a point profile and can
include:

* flight ID / flight number / callsign
* sequence number
* timestamp
* position (longitude, latitude, altitude)
* position ID (i.e. published point ID)
* airspace ID
* (ground / vertical) speed

with timestamp and position as a minimum.

### Flight route

Example: N0441F340 FISTO5B FISTO UY156 PERIG UT210 TUDRA/N0426F280 UT158 AMB AMB9W

### DDR2 `exp2`

The traffic demand file (exp2) can obtained from the EUROCONTROL’s Demand Data Repository
(DDR2) for a selected period of time (typically one day) and geographic area (e.g. FABEC).
The `exp2` includes, for each flight, basic information about the departure time,
the origin and destination airports, a unique flight identifier, the callsign,
the aircraft ICAO code (e.g. A320) and the requested flight level by the airspace user as
submitted in the flight plan.
